# План виправлення візуалізації улюблених

## Проблема

При додаванні/видаленні з улюблених, візуалізація не оновлюється коректно. Дія працює, але серце не змінюється.

## Причина

У `CardsContent.tsx` функція `handleToggleFavorite`:

1. Робить оптимістичне оновлення локально
2. Викликає API
3. Після успіху викликає `fetchCards(false)` для повторного отримання
4. Сервер повертає старий стан `isFavorite` до того, як зміна поширилася

## Рішення

Використати відповідь сервера для оновлення лише конкретної картки.

## Кроки (Виконано)

- [x] Оновити `src/services/api.ts` - змінити callback toggleFavorite
- [x] Оновити `src/components/CardsContent.tsx` - використати підтверджений стан
- [x] Оновити `src/app/favorites/page.tsx` - використати підтверджений стан
