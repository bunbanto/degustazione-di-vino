# TODO - Виправлення проблеми з відображенням улюблених

## Проблема

При додаванні/видаленні картки з улюблених, стан `isFavorite` не оновлюється коректно в каталозі.

## Виконано

- [x] Виправлено toggleFavorite в api.ts - правильно витягуємо `isFavorite` з відповіді сервера
- [x] Оновлено WineCard.tsx - додано подвійний useEffect для синхронізації стану улюблених
- [x] Оновлено CardsContent.tsx - очищуємо кеш карток + скидаємо isUpdatingRef + примусове оновлення
- [x] Оновлено FavoritesPage.tsx - очищуємо кеш карток + примусове оновлення
- [x] Перевірено Typescript - помилок немає

## Зміни в деталях

### CardsContent.tsx:

- `cacheUtils.clearCards()` - очищуємо кеш карток
- `isUpdatingRef.current = false` - скидаємо прапорець для дозволу повторного запиту
- `setTimeout(() => fetchCards(false), 100)` - робимо примусове оновлення

### WineCard.tsx:

- Додано другий useEffect для примусової синхронізації стану isFavorite з пропсом
